{%- style -%}
section.comments {
	background: {{ section.settings.commentsColour }}
}
{%- endstyle -%}

{% form 'new_comment', article %}
  {{ form.errors | default_errors }}

  <div class="name">
    <label for="name">Name</label>
    <input type="text" name="comment[author]" value="{{ form.author }}">
  </div>

  <div class="email">
    <label for="email">Email</label>
    <input type="email" name="comment[email]" value="{{ form.email }}">
  </div>

  <div class="comment">
    <label for="comment">Comment</label>
    <textarea name="comment[body]">{{ form.body }}</textarea>
  </div>

  <div class="submit">
    <input type="submit" value="Post">
  </div>
{% endform %}

{% paginate article.comments by 20 %}
<p>Comments: </p>
  {% for comment in article.comments %}
		<p>Comment: </p>
    <p>{{ comment }}</p>
  {% endfor %}

  {{ paginate | default_pagination }}
{% endpaginate %}

{% schema %}
{
  "name": "Comments",
  "tag": "section",
  "class": "comments",
  "limit": 1,
  "settings": [
    {
      "type": "text",
      "id": "commentsColour",
      "label": "Colour",
      "default": "red",
      "info": "Colour of the comments section"
    }
  ]
}
{% endschema %}
